@using MijnMigraine.Web.Client.Contracts

@page "/"

<PageTitle>Home</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">Weather forecast</MudText>
<MudText Class="mb-8">This component demonstrates fetching data from the server.</MudText>

@if (Entries == null)
{
    <MudProgressCircular Color="Color.Default" Indeterminate="true" />
}
else
{
  <MudTable Items="Entries" Hover="true" SortLabel="Sort By" Elevation="0" AllowUnsorted="false">
        <HeaderContent>
            <MudTh><MudTableSortLabel InitialDirection="SortDirection.Ascending" SortBy="new Func<MigraineEntryDto, object>(x=>x.DateOfOccurrence)">Date</MudTableSortLabel></MudTh>
            <MudTh><MudTableSortLabel SortBy="new Func<MigraineEntryDto, object>(x=>x.Severity)">Severity</MudTableSortLabel></MudTh>
            <MudTh><MudTableSortLabel SortBy="new Func<MigraineEntryDto, object>(x=>x.Duration)">Duration</MudTableSortLabel></MudTh>
            <MudTh><MudTableSortLabel SortBy="new Func<MigraineEntryDto, object>(x=>x.AdditionalInfo!)">Info</MudTableSortLabel></MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Date">@context.DateOfOccurrence</MudTd>
            <MudTd DataLabel="Severity">@context.Severity</MudTd>
            <MudTd DataLabel="Duration">@context.Duration</MudTd>
            <MudTd DataLabel="Info">@context.AdditionalInfo</MudTd>
        </RowTemplate>
    </MudTable>
}